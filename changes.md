# Изменения на 4 коммит, 27 Апреля

Так как коммит получился нереально крупным, стоит рассказать что было реализовано

## 1. Структура

Основные моменты:

FastAPI:

- Реализованы crud'ы для хряков: создание, получение, редактирование и удаление
- Созданы и протестированы эндпоинты API для swagger'а FastAPI

Теперь можно интерактивно создавать минимальных по характеристикам хряков и управлять ими. Работает не идеально, но и делалось на скорую руку, в будущем надо все тестировать и адаптировать

Discord:

- создан обработчик команды "!хряки"

## 2. Что получилось?

- Теперь проект имеет функционал для работы с моделями хряков и их пользователями, сделаны заготовки модулей, отвечающих за цены, редкости и так далее
- Теперь команда "!register" не просто вносит пользователя в бд, а еще симулирует получение своего первого хряка с шансами выпадения более редких(хряк не создается, пока это заготовка)
- Теперь управлять хряками можно через команду "хряки", которая отправляет пользователю кнопку, по нажатию которой только отправивший команду пользователь увидит своих хряков и их характеристики
- Теперь проект работает в 3 сервиса: Сам бот, SQLalchemy и Fastapi

## 3. Что планируется реализовать?

Минимальное апи готово, его можно масштабировать и обновлять под нововведения

Теперь необходимо пробросить нормальное логгирование в файл, так как из-за объемных логов SQLalchemy с ними тяжело работать

Помимо логгирования, стоит добавить централизированные конфиги, в которых, условно, будут:

- Конфиг БД
- Конфиг Бота
- Конфиг FastAPI
- Конфиг прочих настроек(то же логгирование)

Так же стоит задуматься о шаблонизации ответов бота, поскольку отстуствие шаблонизации делает файлы когов еще крупнее(они и без того получаются самые нагруженные)

Чтобы масштабировать бота дальше стоит реализовать схемы связей и работы проекта, чтобы всегда понимать с чем имеешь дело, не забывать сути проекта и легче ориентироваться по файлам. Например, для этого можно использовать схемы drawio


